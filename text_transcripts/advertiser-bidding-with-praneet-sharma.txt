Transcription: content websites are supported by advertising most of the advertisements around the internet are Dynamic at slots that change depending on the user who visit the site these Dynamic thoughts are available to a variety of different bitters for each add slot an auction occurs the highest bidder gets to serve an ad for that slot praneet Sharma is the co-founder of method media intelligence which he founded with shawland are drawn has been on the show several times to discuss his investigations into the world of advertising fraud I wanted to have his partner praneet on the show to get his perspective on Advertising fraud and how to clean up the advertising ecosystem one advanced in Dynamic Advertising that we discussed in this episode is header bidding and open source Library called pre-bid Js
when an ad supported website gets delivered to your web browser the HTML begins to load and the JavaScript on the page begins to execute some of that JavaScript is calling out to advertising networks looking for the highest bidder until the page receives a call back for what to put in the ad slots on the page the page will not finish loading sites that do not manage their add request appropriately will suffer performance issues and sometimes the entire you I will block all it's Waiting For Those ads slots to load header bidding is a technique to wrap all the requests to different advertising exchanges in a single serialized blob of code at the top of the page is a good show it that drove into the mechanics of online advertising I hope you enjoy it too
developers love Docker containers because they give applications portability and consistency all the way from your laptop to production but things can get complicated fast when the time comes to deploy manage scale and secure containerized apps in the cloud Amazon ec2 container service from Amazon web services makes it easy to run Docker apps in production with Amazon ec2 container service installing updating operating and scaling your infrastructure happens automatically using simple API calls you can launch and stop Docker enabled applications query the state of your cluster and natively integrate with powerful AWS services like security groups elastic load balancing EBS volumes and more best of all you only pay for the AWS compute and storage resources you use with Amazon ec2 container service you can focus on building apps
not spending time to Flying scaling and managing your container infrastructure it's time to get back to what you do best learn more about Amazon ec2 container service at ECS. AWS today that's the letters e e c s a w s
 Bernice Sharma is the co-founder of method media intelligence printed welcome to software engineering daily thank you for having me thanks we met through shawland are who has been on the show a couple times and we're going to be airing another episode with him in the near future he's one of the first guys that I was able to talk to quite openly about add fraud with and since then he's introduced me to some other people including you and you know we will discuss a little bit of bad fraud and then we'll get into some more specific subjects in the domain like header bidding but I just want to get a little bit on your background because the people who find themselves in the ad fraud detection industry tend to be so interesting what was your first interaction with advertising fraud
 and I know each other we knew each other since we were 8 so we've kind of been going back and forth I knew he was in a text for a while my introduction actually you know add monitoring and programmatic was was through the monitoring world at New Relic I actually worked at near I like as an engineer more on the sales side and I interacted very deeply with the media vertical so that was the likes of news carb Disney AccuWeather Vice media and is very interesting time because a lot of these companies wanted to create the most optimal experience while maintaining that Revenue stream and quarter-over-quarter growth as it was termed and they were experimenting with a lot of Technologies while I was noticing that you know there's a lot of stuff going on here and I actually want to monitor it so that's where I build extensions for our browser agent and mobile agent at near I like to actually start monitoring these add creatives
 that's where I noticed a lot of me know funky things going on as the day to start coming in performance date of wine but then we start actually looking at Revenue date I like real-time Revenue data that some clients were getting that. Very interesting from there when you say interesting what do you mean unpack that adjective creatives that were you know when you go to a site and you look at Banner as there's a lot of activity happening and what they're doing is sending either xhr request directly dynamically injecting JavaScript within the browser and the rendering activities vary my new so there's a DVD interaction between the different different JavaScript tags in the actual Network request is happening very very quickly as we know it sometimes ideally under a hundred milliseconds but that request is actually taking all your data around like a cookie profiles you have or you've been if you're logged into certain accounts and then
 what people use now is what's called dmps like Crocs or bluekai and they do some of some of this data sharing taxi Target you further in a while that request is going out to the open exchanges like Google's of big up an exchange and Rubicon and open eyes are the exchanges that connect to the advertisers they're going to do some real-time bidding on you they're trying to figure out okay this person going to have a baby soon are they going to buy a car soon how much is that worth to me and they'll start dating in real time and when that comes back they really lose sight of that they're just like okay bid is gone all right like we sent our bed we sent our creative like our little banner ads exchange kind of sends it back and what I did specifically with near I like was I instrumented What's called the Google publisher tag and it's used quite heavily across the board and it gives you a lot of information around what creative came in what line items you know what is a rendering performa
 and what I mean by interesting data I saw a lot of hidden things like things that weren't even possibly viewable you know there one by one or there were 10 x 10 but there was no way anyone could possibly do them and I wanted to myself like what's going on here like that doesn't this site a or b or this publisher Arabic care about that like don't they actually you know this is hindering performance right this is contrary to what web performance is and I was so wrapped up in kind of they want to optimize their site so much and I went to the engineering teams there and they're like yes we really care about this like understand I was like we want to make this an optimal experience
 but we have to hit Revenue numbers and this is these are the tags that we have to deploy and it's crazy that you're seeing this because we we didn't know what's going on either it is that's like the fascinating thing these are third-party tags Within These sites that no one really knows how they behave but they're also dynamically updating and you know reading you know minified code is you know one example but not wanted to spend your day with that in the best manner but since they're dynamically updating in this ecosystem is always interacting with each other and kind of maybe even trying to support one another you really don't know what's going on until you monitor it and once you monitor at you see some creative that you just would not believe that would even render right like the inventor videos you see to give some context for what you're talking about what I find so interesting about this industry and I think what listeners have enjoyed about the episodes of we've done about advert
 fraud is that there is any advertising so first of all advertising runs the internet and yes yes don't talk about it or don't want to talk about it or just forget that this is what runs the internet that's one part of the interest of it but the other is like there is a lot of malfeasance there's also a lot of just incompetence and just like there's too much technology for us to deal with and the way that things have developed there's like a bajillion layers of different players and Market structures not to mention the technology layers and nobody knows everything that's going on from you know from the smallest adtech player to the largest like Google this is nobody who knows everything that's going on it just uses big open market and so there's also there's also malfeasance that people can justifiably a tribute to incompetent so people
 say oh yeah we didn't know this was happening like there's too much data there's too much like mess going on with you no joke I'm sorry the numbers came out this way like if you and I'm sure you know talk to Charlene about the steps in times like when he holds a microscope up to the data that he gets from somebody and he says hey this doesn't make sense they can always throw the bluff of all wild you know it doesn't make sense because we had a lot going on and there's all this stuff is always moving parts and you don't understand it and you know he holds the microphone microscope up close she's like no like this is clearly fraudulent and so I say all that just to kind of paint a picture for people who have not heard our previous episodes about add fraud or have not looked into the space at all it's really fascinating because there's just there's a lot of BS going on there's also a lot of chaos going on and it's sometimes hard to disambiguate the to you know when is somebody doing
 spell malfeasance and when is somebody creating a system where there's no accountability just because it's too complex yeah exactly and I think to get more contacts is a lot of people get lost in the abstraction of it right advertisers have agencies agencies work with many platforms and then platforms work with the big exchanges and exchanges work with thousands of maybe a millions of Publishers there's just so many layers right and the whole the scientific methodology would be having tracking within each layer well that's very difficult because of the abstractions the tracking might not be sound it might get lost which is very very common so when you actually do some sort of auditing work it's almost trying to actually guess you're making you have to make some assumptions in the ecosystem plays on that right because if you provide them with data
 that says hate this is what happened because we tracked it and yeah like we track this and this matter on the landing page or you know within our creative they can kind of refute that and not in a scientific manner though we'll just say oh well we don't think that's so and you ask them for data then yeah that's a scientific thing to do is actually disprove my theory with your own set of data and observation will they say they just lost it or they say their data retention doesn't work that way or a lot of people and because there is a distractions within the company itself don't know how it works so they'll say oh we don't know how to get that date actually are engineering team might know but then the engineering team says oh we don't know where that stored so you're actually just running around and you're chasing data so advertisers usually have to do all this heavy lifting themselves and if they don't have the expertise sometimes or they have their own layers of abstraction so the biggest monetization Channel
 the Internet is just covered an abstraction and it's just sort of ephemeral inventory that they sell right like imagine selling a banana at this price one day and it disappears and then you're like well did somebody that bananas like maybe now what are you and Shaolin trying to do with method media intelligence which is this company that you two started as well yeah so we focus a lot on education since I joined shalyn has done a great job on educating the industry around the financial incentives the technical aspects you know why would this occur it's not just you know some Russian hacker it's a regular old people you really represented the advertiser and agency side by the unique opportunity work with Publishers and I to have an engineering background so I brought a lot of this in with the I built these tools I built the sky
 test cases and I work with these Publishers and I think one of the best interactions we had was just early on the of reconnecting you know we've known each other for so long but reconnecting and me telling him that paper how was yours care about this to write like Publishers actually I think it's a black box and they don't like it and this is why because I work with the engineering teams at Publishers in there like do we have to deal with all the bugs and we have to deal with all the difficulties that these tags throw at us we get blame for everything so they're all trying to understand it and we've really kind of brought into Horizon on what we do so we start with in a training why would fraud exist it's not just you know a Hawking conspiracy is actually deeply rooted into the system because of all these abstraction of these are the incentive systems we got a lot more technical to around hey let us help you measure it will work with advertisers will work with agencies to okay these are the measurement philosophies that you have to integrate but also
 more of the testing philosophies where we actually have a tool set that allows us to know krauser and sides or cross her and campaigns and actually gather data you know with synthetic browsing techniques around okay like this is what's happening on this site they have all these invisible eyes and this is the network timing and this is what's showing up and I should have been showing up for this is showing up exactly as it should be. All good we've added a lot of that a research capability to our Arsenal
 cloudflare runs 10% of the internet boosting the performance and security of millions of websites many of you probably already use cloudflare on your sites but we're not talking about using cloudflare today we're talking about building on top of it if you're a developer you can build apps which can be installed by the millions of sites which ReliOn cloudflare you can even sell your apps they can make you money every month your users can login or register to your service inside your app they can get a real-time preview of your tool live on their site and they can start paying you monthly all from within cloudflare apps they can go from never having heard of you or your service to having it installed on their site and paying you in seconds visit cloudflare.com SE daily to watch how you can build and deploy an app in less than 3 minutes that's cloudflare.com
 daily thank you to cloudflare for being a new sponsor software engineering daily
 I've done some shows about some of the software in the bot detection industry and it was a bobcat Textron filters a lot of a lot of the stuff that I like to report on in the ad. Space is this fake traffic stuff basically just typical scheme where you set up a website like I was used example beef recipes.com you crawl the internet for beef recipes you put all those recipes on your website so you've got now I've got a bunch of content and then you set up a advertising account with some advertising provider you get ads on your website and then you go and you buy quote-unquote traffic to be sent to your website and that traffic is mostly Bots coming from probably a Datacenter somewhere
 and so this scheme is you know that's the basic version of it there's plenty of complex versions and it's it's really scalable it gets you a lot of money and this is one thing that bought detection companies try to prevent and in the interviews I've done with bot detection companies I'm just like every time I'm impressed with their answers like how are they detecting the difference between a ba and a human well basically they don't have a good answer to that and so it just makes me wonder like
 what is the right approach to building software that attacks this industry that tries to change things in the industry cuz one of the things about the bot detection filters is Publishers will buy these things just so they can say oh yeah we've got like these safeguards against bots doesn't really matter to them if they want to some of them to like the unscrupulous players they don't actually care if they're preventing bought traffic because the more Bots frankly for them the better they get more traffic they get more Impressions they get more money that's great for them if they're unscrupulous and there's a lot of unscrupulous Publishers out there so you're just unpack the whole supply chain a little bit more
 the way that advertising a structure today is just basically a whole bunch of people who are trying to take money from the advertisers themselves the big brands that are actually footing the bill of these things and so the incentives are totally out of alignment because all they really care about is is the advertiser going to continue paying us money and because the advertisers are still pretty naive when it comes to Bob traffic they still do pay money so I should simplify this into a question what are the right kind of software to build actually change this industry who actually cares enough to buy that software for you catering to with the software that you would build at method media intelligence and to answer the question about what's the right way to detect Bots there is a lot of oversimplification that you see with IP whitelist and Blacklist that people try to say okay this will prevent these types of days
 letters will be no we have Dynamic IP is all the time and people can Tunnel traffic so that never really works but then there's the other end of the spectrum around Big Data kind of analysis around we analyze thousands of metrics around you're a bot or not and not released a lot of false positives but introduces a lot of latency and infrastructure overhead right like you can't just build a portable Big Data analysis machine it is actually backed by probably its own you know Data Center and that's it in real time analyzer anomalies I mean I work at New Relic so we got billions and trillions of data points and there was a lot of cost associated with that so how much are you trying to you know how much do you care where it says I'm going to pay this much I'm out to take care of bots where a lot of advertisers and Publishers that I work with are just like it's collateral damage to them it's just just another thing that they have to deal with
 so I think the right software really is around vetting right like how you got to take the I believe the security industries approach what they do with pentesting is what can we build that can actually say how you know how susceptible are you to bot traffic or how much will it matter to you right like can we actually deploy something that I can actually do a test around okay you load things in this way our you're loading or making this many a bid request in this session with in this location can we proactively test it because trying to guide Publishers specifically in this day in age right now maybe that will change the future to install universally a standard of Bot detection is one hard but then they'll have to constantly adopt. Because the people who are actually making a profit off of this will just start patching that code because
 again the execution environment that all of this runs on is just plain old JavaScript and as we know at runtime you can modify a lot of that which is what these bought that Erskine do so there is no one simple way to do it now there's I taking more of as a risk score like okay how susceptible are your ads to bot traffic right you can just kind of give them a score by saying okay this is the amount of reach that you want but this is the amount of risk that you also is entailed with that you know and it's it's something that you should measure yourself so that I think the best thing advertisers can do of all hotels measure their own landing pages and then rule it out which one is the one thing box can't do yet I'm going to say yeah it is they can't convert they can actually buy that car they can actually you know they make that purchase or they're very lazy Bots are these Datacenter box that are being deployed they want to run scale so they're not going to spend minutes on your page so you can start analyzing
 signals people do this today with Google analytics even though it's samples but analyzing you signals and making it affordable for advertisers where it's like okay we've seen segments of this type of traffic act anomalous you know it's more of a zoom out approach you know we start with all the converting users and how are all the other where are the differences between converting users and then non-converting users and what are the characteristics for the device characteristics what are the regions how often are they coming from ads what's like the time kind of distribution doing this sort of analysis is very valuable because then you start understand that
 yeah we are getting a lot of boxes and Advertiser coming you know clicks are coming from you know this site but can we start minimizing that or can we just monitor it and actually educate ourselves enough to go back to our platforms and say okay we need to make this adjustment and then we measure it scientifically change advertising fraud mobile actually opened up a lot more possibility right now there's something that advertisers are sorry advertising platforms used that's called Cross Clinic lacrosse device attribution so they have a lot more window credit now so there is many platforms that say oh we can track you on mobile they make assumptions right like they do cookie base tracking and they try to do IP matching and now advertisers they've been told that you have two devices that you can Target advertising platforms love this because they love attribution so they're like oh we might have not gotten
 click on the desktop but we found your mobile device and we attributed it there so yeah we get credit whether or not that's true because they're not like deep linking to each other like that or there's no sort of communication they're making an assumption that these might be on the same IP address on they might have it logged into Facebook here and there we could pull that cookie but it doesn't necessarily mean that it should be attributed so the bad thing about it you know how people are dealing with this mobile advertising spaces me go since I'm taking advantage of it right the more screens the better and TV you know programmatic TV is they call it already has casting or you know watching YouTube through Chromecast like now there's another screen so the more screens the better
 have you seen these pictures of the cell phone Farms where it's like you've, just rows and rows and rows of hundreds and thousands of cell phones just sitting there I guess they're programmatically clicking on ads or downloading apps or something yeah and that might be the extreme examples exist you got to the point now where you can actually emulate Android on a server like Android in a box like you can actually run it so the data center and the cloud services Remain the most scalable way to deploy you know
 boxing a big traffic you do see the cell phone farms and I I I think it's quite funny because it is just like botnets right like these the effort involved in getting everyone or get someone to install an extension or malware like there's a lot of actual obstacles that you have to cross although it's more complex than the easier sorry it harder to detect it's it's the same thing it's it's very it's the extreme examples I believe because just the effort level right if I'm trying to create a bot like I wanted to basically spin it up magically Deploy on a hundred instances in just need a fire at off so yeah I have seen the cell phone farms and you know I'm saying that it might be below write the in the incidence rate of cell phone Farm quick ride but you know you never know right cuz you do see various ones pop up and if it is profitable right like if you make it profitable enough if the cost per install is so
 then yeah people will do it so the Datacenter instances where they just spin up an Android operating system virtualized in a container or something there's is there any way to identify that that is Data Center Traffic versus is there some kind of like hardware user agent thing that that is you can detect that this is sitting in a container on a Datacenter rather than in an actual Hardware phone device that somebody's using actually at method media been working on something like that and although we don't want to get into the bot detection Bender game it's part of our research because we've seen a lot of this invalid traffic we vandalized it by myself and actually spine up you know Webdriver
 instances where I'm trying to smooth things and Pen test it basically to see how far I can go to run these simulations I would say we have a good bot right like a taxi if that's you know different Publishers are does availability test but it actually reveals a lot of things about how these Bots function especially in the data center there a lot of environmental variables that actually they do not have where your phone or laptop or desktop might have so we're actually going to something we patented recently is we we have something that can rule it out now right cuz it's always about adaptability why they could even work now but doesn't necessarily mean it'll work in the future because it's all its it its evolutionary Dynamics it's all about adaptation so if we remove the oxygen for the box that need oxygen then
 that's great but what if there is a species that involves that doesn't need that or the you know they separate that so it's going to be another kind of the work around we might need but right now we believe we have something that can that how much I'm going to want to talk about it but it's interesting right and this was all due to the research we're doing you kind of have to step into it and actually create one yourself you really have to come play around with the tools these tools are actually commodity tools you can spend up Webdriver try it you know you have headless Chrome now and you can set it with a bunch of flags you can even load it with extensions you can simulate a lot of things with your commodity browser or you can do it with Firefox doesn't really matter come see me late mobile you can stimulate touch events you can
 you can run it in a lot of environments and then you know you start you start analyzing these permutations and you notice that what's a constant right now right like what's makes Chrome different from Atlas Cromer Chrome on you know OS X versus Chrome on Linux on either you started noticing these patterns and right now I believe the lot of the Box section vendors they try to analyze too much behavioral qualities ride there trying to see you Mouse movements are three Strokes or they tell you that right because they want to basically kind of cloud your mind or impress you in awhile you with how fast I can kind of coordinate all these click events or you know Mouse strokes and it gets almost like magical to an Advertiser were there like wow like this big data Engineers are just so awesome but you know some of that might not be true or it might be very slow that's right or easily subverted right like there's you
 have you no recordings of behavior and then you can just have the bot replay it right you can vacuum noise to it and some variety yeah and these are things that are actually very very possible Bots can be captured to and they don't necessarily need machine learning to be captcha captcha is actually very easy to beat if you realize that it captures just kind of this JavaScript methods on page when you start poking at it and then you'd eventually you're just like wow that was simple and you've heard Sensational stories around capture you know black people have been using computer vision to be cops and they have this generational are the adversarial Network that beats captcha I mean the bot vendors will Air the wishes by creators will actually take the simplest route right they don't want to create a neural network to kind of make a problem that you actually want the simplest kind of Click button route so that's what they look at it
 sometimes being wrapped up in this whole fantasy that big data cancel everything or a I can install everything that that actually leaves a huge hole in the simple things and you just walk around it this is why this is why I like reporting on this space because like when I talk to the bot detection company scheduling when I mention of the name of the speed of the provider cuz it was just like that talk to the CEO it is I kind of eviscerated his his reasoning because I told him again and again I was okay so this method you're explaining to me is not resilient to a replay attack is that correct and you be like well people don't use replay attacks and I would you even know I mean if you really like clearly you're not trying to detect it so I have no clue what you're not capable of detecting is so how would you even know anybody while people are not using or fairly confident
 all your confidence good so okay you're an outspoken guy and I have got a guy kind of a not a conspiracy theory but like a alternative explanation to go this is just saying I've discussed a couple times on the show but it's so interesting seeing seeing the world try to diagnose how cyber security and how internet stuff works in the wake of this election and just people still talking about like what the heck happened was it a hat was there hacking was there information like was there any information war did did Russia plant a bunch of propaganda across all these fake news sites and what happened there
 and when I look at that I'm like well you know the Occam's razor the simplest explanation is is you don't even need a well-orchestrated conspiracy from a government after all you need is some people who said you know we could just stand up some websites with very salacious information and make a bunch of money off of advertising and that's like the simplest explanation and it's so interesting to see that nobody discusses that as the explanation and I don't know if it's because like news organizations are afraid to sort of bite the hand that feeds them by bikes are criticizing the ad Tech world or if it's just because people or perversely if it's because you know they're going to get more clicks if they report on it as is it as if it's a Russian conspiracy creating more sketchy news themselves
 this is just my theory this is like what I think about sometimes you have any give any thoughts on that any comments on it and I think what happened is in from my angle my theory is just you have a bunch of people who try to use their own measurements without considering other measurements are measurements they might have missed right if you watch CNN MSNBC or any of these news anchors like they have a lot of data right they have a lot of analysis and they're like okay we looked at this you know constituency and then we analyze cross-section with this one and then all the sudden they're conclusion was wrong and they're like Wade like we measured all this right and yeah pulls in the same thing in the ad Tech world is basically there's all these measurements and you hear about this like you know the boss sexy men are you talking about well we've never seen replay tax loads like how do you know right cuz you would have their the burning your measurement right and that's what happened is
 with the mask on a quantity of information that is the internet you'll never really fully measure something because there's a lot that could happen you could lose network connectivity will being the simple answer or you know that some persons advice could lose network connectivity you can have a bug that you have a 9 minute window going to work at near I like you see these 90-minute windows for some customers that they just not reporting data so there's all these gaps in data and Trust only your data set is is nuts because there's going to be always conflicting opinions because someone else will have more data our last day at work completely different data and
 I think the best thing you can do is going to say okay this is what the data is telling me but I'll try to be skeptical right like always kind of challenge my own data set and always look for more and I think what happened during the election cycle and all these unikey advances exactly you're right some people were like wait a minute we can just play around with opinion and this is the type of data set that we yeah right like this is the type of data we're getting so let's just keep playing around with it I think that's what really happened during that is just that feedback loop that was generated
 spring framework gives developers and environment for building cloud-native projects on December 4th through 7th spring one platform is coming to San Francisco spring one platform is a conference where developers congregate to explore the latest Technologies in the spring ecosystem & Beyond speakers at Spring one platform include Eric Brewer who created the cap theorem Von Vernon who writes extensively about domain-driven-design and many thought leaders in the spring ecosystem spring one platform is the Premier conference for those who build deploy and run cloud-native software software engineering daily listeners can sign up with the discount code SE daily 100 and receive $100 off of a spring one platform conference pass while also supporting software engineering daily
 I will also be at Spring one reporting on developments in the cloud native ecosystem I would love to see you there and have a discussion with you join me December 4th thru 7th at the spring one platform conference and use discount code SE daily 100 for $100 off of your conference pass that's SE daily 100 all one word for the promo code thanks to pivotal for organizing spring one platform and for sponsoring software engineering daily
 yeah if you're somebody like Shaolin or or me I worked briefly in at Tech it's easy to develop a pretty cynical and almost tin foil hat wearing conspiracy theory perspective that every ad tech company out there is malicious or they know like under the covers deep down they know that though there's lots of Bot traffic they know there's lots of nasty add fraud schemes going on but I don't know I'm curious from your perspective did the people in adtech believe in the products they're building like this retard is like I've tried to I've contacted people like at the big huge exchanges and certainly the the biggest ad tech companies in the world have contacted them nobody will talk about adtech like the biggest that's what's so weird about it
 is like you call of Amazon Amazon like the most shrouded in mystery company in the world did you call them up and ask them like hey can I like to talk to you about e-commerce like somebody will will get on the phone with you to talk about e-commerce I guess there was nothing but a right so like the biggest companies the biggest technology ad tech companies in the world will not talk about the technology around their attic at least not with me maybe baby mood to talk with other people but what's going on there like is there something I'm missing something like why don't people in ad Tech talk about the Technologies around adtech why don't they talk about add fraud why don't they talk about how much traffic there is a what's going on their questions it's it's honestly probably the answer should be they don't understand it themselves right A lot of these
 people who work in these companies made not understand web request directly to our request JavaScript tags like how it works like this is all shrouded in mystery to them themselves so I think what happens is they would love to answer your question but they haven't actually read up on it because you know like they just didn't feel like it was necessary they might be sales marketing person they might you be an operation person I like okay like this is the role I play and you know why would I this is all is all the machine stuff that goes on try talking to the engineer is right like I think talking to the engineer is that worked at the Publishers that incorporate all these tags and all that kind of execution environment around them the rendering of the actual document when they have to win that's your bread-and-butter and yet those are your kind of KP eyes they know absolutely everything about it so a lot of what I learned was more of what I learned was through a working with these engineers at these Publishers that were incorporating and
 taking care of everything I eat I mean AccuWeather is a great example of just like there's very few people working there and they have such a huge machine that they have to manage and Engineers there there's it's like brilliantly you know they have the man is this whole kind of Goliath of traffic and they just know so much about the space where is if you go to add tack stock right like if you go to like a someone who works at a platform or someone who works with the advertising or supply-side platform there might be a lot of abstraction because it's supposed to be that way they were told it supposed to be that way just sell it or they just didn't really bother reading up about it you know it's it works it works why why care about that from that perspective you know you're putting in this much money you get this many quote on quote clicks yeah I heard about Bots but you know what whatever is basically the attitude
 right okay well you know we've been talking in the abstract and I've done enough shows about the abstract complexities and fraud and stuff dive into something a little more specific and give some people bit more of an education about a narrow Topic in attic and the top of his head orbiting explain what header bidding is so header bidding is quite new and I actually learn about her bidding as it was in being implemented at these various Publishers the way and the way it worked out of the way it still works for a lot of people actually is when you go to a site they will start making a chain of requests to basically bid on your value based on browsing history based on other characteristics IP address location in Dale actually fire that record what was the waterfall in their firing it one by one two different Exchange
 is like bidding okay like 75 signs and then go to the next one $1 what publisher started to notice is with this is like we're losing money because like we're having to wait and then it might increase latency independency basically what if it what if the chain breaks so with the nature of the browser being a synchronous now with header bidding you can send out all the requests all at once you know a synchronous so all the exchanges theoretically should get a request all at once and then send it out all their you know connected Advertiser is a yeldell bid on it and then they will resolve that and basic send it back one by one or do you know any parallel to the actual header bidding tag in the four brothers of your cute face you should look at pre-bid J acids open sores it's very deeply integrated people tell their own header bitter tags to and you can kind of just pop open the hood on Chrome and
 guitar tab for Network time and really see the header bit of responses that are coming back it might seem like a lot of data but I do start unraveling the responses you see the Deep information like the targeting parameters sometimes you location the creative the actual HTML document that's going to be potentially embedded within that you know 500 by 300 or narrow Banner at or wherever it may be but sometimes you can also see the actual values of what they did on you write like you can actually see this with pre-vet is okay this person bit at $7 cost 4000 this person been at $10 cost per thousand even see who the advertiser what it was and who lost you can see who lost in one who's bidding against each other and you know even as if there is their bidding too much you have sites that actually just for some reason the header bidding just keeps going on and on there's a huge latency that I actually did
 so the Crux of header bidding is basely Publishers were like hey like we want to send the maximum amount of beds like we want the maximum Revenue let's make this a synchronous we have this tag it could be pretty busy ass or could be something else but this tag basically Abstract & Wraps around our partner connectivity so we can send a send a request appnexus and Rubicon in open Axe and all these other exchanges and I left out Google because they actually don't take involve themselves with the open header bidding they actually run their own the way you have now is Google's ad exchange now has to compete with the open exchange so that's created this kind of like Furious battle between my field exchanging Google around okay who's going to win is it going to be a tax or is it going to be you know Rubicon or something they send all their bid request to usually dfp you
 is Google's like the ad server that people usually use and that will finally get resolved in okay who won who is the second floor price like who has who has the highest bid and they'll pay the second floor price and then your creative will finally ran her this will happen and hopefully a hundred under a hundred milliseconds but being from the ad monitoring side where I got to work with the Publishers you see some anomalies right you see some seconds or you see some bit prices that are just insane like it just dug you know a hundred cpmr liked it I saw one which was like they pay $2 for that impression and I just didn't want to believe it I was like this is an incorrect measurement and probably doing but then you just kind of look at it more and more in your like this is a wild world right like can you even possibly monitor it that's the Crux of header bidding it's easy just taking
 taking something that requires a lot of dependency and then wrapping it and then firing it all at once and then finally resolving it so we got header bidding is because the way that Pages were structured pre header bidding what does you've got a series of lines of code that a quarter cord waterfall of requests to different at exchanges to say hey were loading this page we're going to snow some ads somebody what kind of price are you willing to pay to load your advertisement on this impression and the problem is when you string 20 different requests to 20 different exchanges in a row you've got all these call backs that are waiting to happen and it might be blocking while you're waiting for
 all of those callbacks said you replace all 20 of those lines with a much more succinctly series of JavaScript that is pre-bid JS that wraps all of the logic with exchanges in in a way that is more amenable to a faster load times that accurate yes exactly faster load time but also maximum Revenue you have to consider the fact that now I can just brought it in parallel and maximize that chain like all the call back skin I don't have to wait for all the call backs execute I can just wait for one and it's gives the publisher maximum opportunity still essentially bottlenecked by The Exchange that takes the longest time to call back then actually yours was the risk that was the render-blocking right if the user leaves
 dbids don't resolve in the actual auction is incomplete so it's better bidding it's kind of a trade-off they're like okay let's try to come a lot of exchanges actually time out with header bidding header bidding is actually cause this stress on the dsp's where they're just getting way too many requests now so either they'll time out or they won't want to be on you so a lot of publisher they want to know okay which ones this time now and which one will bid because they have a Dave a very small window of attention that they're trying to Target so it's a trade-off they like see cut the auction off after a certain time out you can Define that time out but it's usually you know I don't know seconds it could be $300 I guess depending on the attention span of the user or they determine the electrically stay on the page but they want the rendering to complete in this is where it starts getting more interesting when I went to talk about the time out is because with single pay jobs you can render a lot of interactivity immediately you know with react and BJs in Click, TN
 be kind of invention but with even angular you can render very very quickly so the faster you can render the more you can lock that user in and then you can do you know you can continue the billing cycle but with a lot of traditional Pages like the rendering is blocked by the execution so you going to you know you got to start doing some sort of trade-offs in area where okay I'm just going to time this out at 102nd and whatever comes back at least it ran in parallel right at least everyone start at x 0 hopefully where is now you'll see more and more of these Publishers you know the ones I work with some of them are actually adopting Beauty I switch is a very fast rendering near front end rendering framework and they were trying to maximize bidding time because they wanted this site to render immediately so the user is reading that article and scrolling and then bids can keep blowing in so you're saying that
 maybe somebody would load page and then they scroll down and is there scrolling down the ads lower down on the page maybe they haven't even the auction hasn't finished yet and they have a dad 7 loaded yet yep exactly but it gives them more time or window of opportunity without blocking rendering like browsers of gotten very optimized so his tell him JavaScript Frameworks like the job still be go system and if you can create a single page app that doesn't necessarily block rendering and can actually lazy load and actually use various techniques actually create modular JavaScript that it becomes very advantageous because now the window of opportunity is going to increase scroll down sometimes a footer isn't loading but at least you're still hooked right there some sites where they had like an infinite scroll functionality and as you scroll down until navigate to a new page
 but that gives me more time to load adds basically is you're already moving on to the second second article by unknowingly sometimes by scrolling down and they'll just do a kind of lazy navigation using my history straight state in the browser and without refreshing the page you navigated to a new article and you're like oh wait there's another article but the footer is still loading and then new header is loading it just gives it more can I connect tivity I was reading about this topic as I Was preparing for this interview and what are the things I read that I didn't completely understand was this premise that header bidding increase in popularity has led to
 greater data sharing so they're more user data that's being shared with the exchanges and the SSP is where when my page is going to load and that bid is being that that request from pre-bid JS is being made to the series of exchanges like more data is being passed can you unpack that that depends on how much they want to pass right like a lot of like Crocs is going to be an example of what kind of TPMS like their tags I'll help you unpack more data about your year what is DMP digital marketing like platform not so it's very new to me as well right like I've worked with a I work with a publisher whose use Crocs and I'm still trying to wrap my head around it but essentially it's another job script tag it's called Crocs
 and there's a lot of code data sharing you can do you know between your users floor or like your user profiles and the Wade pretty bad and many of these header bitter tags away the work they let you define targeting it could be content targeting like what's the type of article what are the cookies you know that they have actually sat and what information they can gather out of that are you logged in the social are you not there's various things you can do and within the protocol you know that the bidding protocol you can pass this information so this the type of data that is actually used a Target right the more you can actually gather from the parent JavaScript write like the actual cookies that are available that's why I third-party tracking within browser is it becoming such a Hot Topic is because these are iframes that are essentially loading right like from other domains and they're passing cookie information cuz you know they are not dumb and they can pass that first party cookie
 you know as a third-party cookie for the parent domain which might be AccuWeather weather you know CNN.com so suddenly the publisher is all this data to play around with and send to maximize in a bid responses right there trying to maximize the fact that you might be shopping for a car so with more data they can actually incentivize the actual bitters to bid as high as possible and then as the responses come back as I mentioned you can show CPM you can actually determine the value of a user right in real time so if the publisher has monitoring around how much this user is worth and what their latency was like they can start actually actively investing and trying to keep that user there right if I find out that let you know if I'm a publisher of code that finds out that you're about to have a baby and all these people are feverishly bidding on you I can actually start modifying my page to say okay like how do I keep this user here and
 how do I maximize the advertising reach you can actually dynamically modify it now
 weird like what's example of that example would just be with we work with the public I can't say who it is but we monitor their PJs responses and they would only do this once of course they got the CPM value and they would Mark each session as a we seen 10 sessions with a CPM value of a 50 or more and they would chart that and then they would say okay what are the targeting mechanisms because they are tracking them as attributes as well okay so there are having you know they're on this article or that article they're looking at you know this type of content but then also what were the targeting printer sent right if we can figure out what the targeting parameters actually Return of the maximum value all of a sudden we know which one we know what facet sexy give us $50 or more they can just Analyze That from the day that they're getting but then using that real-time notion they can create hooks where it's like okay if you see this you know
 heuristics if you see this type of targeting or you see this type of you know cookie load more ads or you no interest them in other things try to keep them on the page this is a very valuable session those were the types of data sets that you can actually kind of draw conclusions from and through even a retroactive scanning of the data they already had they can make futurist options on okay we're probably going to see this user again or if we see a user like this user we know how to hook them on and maximize Revenue alright well you know we've been going down in the weeds in this header bidding topic Let's Jam out a little bit your perspective on what is in the future of adtech I mean when we have these conversations about something like header bidding or display advertising
 it feels like this this car this world is rapidly shrinking this is a world that is going away and we've got people who are fighting for smaller and smaller pieces of the pie seems like advertising is moving to platforms I mean it's like movie to Twitter and Facebook and YouTube and who knows where else the Publishers they kind of need to reinvent themselves I'm sure it'll happen eventually when the site start to look more like a medium and less like janky WordPress sites software engineering daily but WordPress isn't is I don't think it's the future of publishing where do you see ad-tech going there's three things I see one increase in measurement auditability right advertisers are the last one to know about something
 that whole scenario is describing with that people optimally kind of maximizing their session Revenue you know who's the last one to notice is the advertiser that actually or the advertisers that actually bid against that right there they're going to want more transparency so there's going to be more auditability in the system and more cross-functional auditability as in people are going to use standards and not deviate when it comes to measurement and that's the best way to even though it's not the purple like it's not going to be the the Silver Bullet it's the it's the Best Way Taxi get the advertiser information as for actual advertising Zenith digital advertising there's been a lot of consolidation right you see year-over-year growth for Google and Facebook it's very large whereas the other exchanges and other at companies are actually not growing as much as they want to write there's been a big consolidation so you see the prices on Facebook and Google as a as a person that how much you know as an individual as an organization how much you have to spend
 on cost per click advertising sometimes just to kind of out compete or be in the conversation the brand availability is very small right you see on online advertising the internet supposed to be so open yet you see the same Brands advertising all the time because they're the ones who can afford it have all the knowledge or the agencies with all the knowledge or the connections you just see a very like how how is the how is the every man supposed to advertise right like you have to go to Facebook and maybe hopefully in a post something on Reddit or Hacker News or Facebook that goes viral and you really have to knock on doors where as these Brands just tired of this whole Zeko's to dig in the badger you with content so you'll start to see that more where it's like
 the technology is there now advertising can render very very quickly that's the thing that we figure it out is not some internet speeds are fast and there's mobile there's a lot of real estate still there but Technologies gotten faster so there's more kind of throughput that you can throughout the system so you'll see Publishers you know start to reach out to you know these vendors that are actually optimized for certain performance levels in actually have transparency and do a lot of the heavy lifting for them when it comes to measurement right like if advertisers one all this measurement being done well what's something I can just kind of do it inherently but from the standpoint of just comes out wolfers probably see a consolidation and then kind of a rebound from that where it's at or people are just sick going to get that up there going to get fed up with the internet that they see and say okay what's my opportunity in the internet you know this was supposed to be an open ecosystem in
 I'm trying to launch something you know like I don't necessarily have a car that I'm trying to launch but it's a good idea how do I share that now it just gotten so saturated and compressed wear if I'm not a million-dollar billion dollar brand I don't even have a shot like what kind of Internet is that so you'll see a rebound from that and hopefully they can be done right where it stays for the Everyman it's not for eventually Coca-Cola to take over and say hey like we're an outfit every one of you fools yeah I think I share your vision interesting points will bring it it's been great chatting and I've enjoyed getting to know you over the last couple times we've met and I look forward to hanging out with you and Sean in the future and talking more about ad for us absolutely of thanks for having me
 gramatik code sonar helps development teams improve code quality with static analysis it helps flag issues early in the development process allowing developers to release better code faster code sonar can easily be integrated into any development process Advanced static analysis of C C plus plus Java and even raw binary code code sonar performance unique data flow and symbolic execution analysis to aggressively scan for problems in your code just like battleships use a sonar to detect objects deep underwater Engineers use code sonar to detect subtle problems deep within their code go to go. Gramatik. Com SE daily to get your free 30-day trial exclusively for software engineering daily listeners
 coach sonar analyzes your code and it delivers a detailed report the code shown are user interface provides all the information that you need to quickly understand the reports follow cross-functional understand cross-references quickly navigate between files and visualize large pieces of your code go to go. Graham attack.com SE daily to get your 30-day free trial and at least the power of advanced static-analysis thanks to grammatech for being a sponsor of software engineering daily
