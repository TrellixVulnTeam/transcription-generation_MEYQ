Transcription: Google builds cloud services for developers such as Pub sub cloud storage bigquery and cloud data store on software engineering daily we've done lots of shows about Howdy's types of services are built in this episode we are zooming in on the interaction between the developer who is using a cloud service and the design and Engineering of the client API is written to access those services in a easy usable fashion to build a useful cloud service Google has to make a common way of interacting with that service from any programming language on any device Jon skeet is a long time engineer at Google and he joins the show today to explain how Google uses generated code to make the creation of those API more streamlined we talked about grpc protocol-buffers C sharp and lots of other topics I feel like this episode is really important to anybody who is building a cloud service that they expect to be used by developers which
Jersey growing population of people I hope you enjoy this episode let me know what you think send me an e-mail send me a tweet whatever you want to do to contact me explain information on software engineering daily. Com with that let's get to the championship life is too short to have a job that you don't enjoy if you don't like your job go to hired.com s e daily hired makes finding a new job enjoyable and higher will connect you with a talent Advocate that will walk you through the process of finding a better job it's like a personal concierge for finding a job maybe you want more flexible hours or more money or remote work maybe want to work at Facebook or Uber or stripe or some of the other top companies that are desperately looking for engineers on hired you deserve a job that you enjoy because you're someone who spends their spare time listening to a software engineering podcast clearly you're passionate about software so it's def
possible to find a job that you enjoy check out hired.com SE daily to get a special offer for software engineering daily listeners a $1,000 signing bonus from hired when you find that great job that gives you respect and salary that you deserve as a great engineer I love hired because it puts more power in the hands of Engineers go to hired.com se daily to get advantage of that special offer and it's thanks to hired for being a continued longtime sponsor of software engineering daily
Jon skeet is a senior software engineer at Google John welcome to Southridge & K thank you very much today we're going to talk about cloud services and let's start by talking in the abstract what are the requirements for a modern cloud service provider for the different cloud services that they vent so different cuts of meat is going to have different episode of Table Steaks so everyone provide some sort of blob storage everyone's going to provide some kind of thing space access some kind of no sequel access and various different providers will give veteran sort of a devalue I work for Google obviously we have a bunch of cloud services I would just be not shaving machine learning bass cloud services with tensorflow we got all kinds of things I'm really it starts off with the basic things that people need to get their jobs done how does one of the coolest services for storage in the like we also need to be able
post your applications themselves of course some applications would need to run in the clouds but still rely on child services but I think it's fair to say I don't feel lot of platforms you really are expecting to your income in the cloud as well as just treating it like a big help desk as well so Google cloud is the Google cloud service provider what are some of the infrastructure in platform-as-a-service products offered by Google Cloud I know you mentioned there's a blob stores there's machine learning in terms of tense of feel like it's what are the most important ones were the core ones that most Cloud applications are using in some ways I'm the wrong person to ask about this you really want someone cut it on the on the product side for cloud specifically I've seen there's a lot of use of take the store and pick 3 pick 4 in particular is great for analyzing huge die sets using sequel but it used to be that I'd have to say it's something very
sexy cool I know they won't send it to equal which is fantastic and I was looking at it that's why space just that just today where someone was analyzing tabs vs. spaces we have a public places of 400000 products at protects ride that donkey top and all the files in those projects and you just went through there like that. It's just it's crazy how fast this kind of thing can get out of these are based on things that we've been using in Sudley in Google often in a very different kind of way there are bits and pieces it's easy as a Google internet site Victoria that looks just like inside a product name hat kind of cool Sarah differences when you extend life things you want to make them more General at Google's needs aren't always the needs of other companies are almost certainly aren't the exact precise needs an awesome we get out internal products to precise sale requirements and as soon as you spend that you have to generalize the product as well
but yes I see a lot of uses of things like they store in big Prairie and of course Google account storage the stories that I mentioned out here on out of course we have Cloud sequel Google Celtic Colt which is hosted my sequel which just makes it incredibly simple to get up and running with a tight space just like we've talked through the basic requirements for what a cloud service is and what a cloud service might do some different functions what is a client library for a cloud service so most child services have some sort of relatively native way some preferred way of talking to them and they say it's over but then will accept some sort of Jason representation of a request when you get like a response so the whole restful thing is extremely popular I can't Sam arrest expert
arrest that site it feels like a good set of ideas to not me to dogmatic about but many cal services will expose that that results in some kind of restful light but then occasionally you need things that count easily be expressed in purely restful results-oriented ways of doing things so you need to have what we call Custom methods which effectively feel a lot more like a PCS remote procedure Kohl's
and at that point things start for a little bit of Paris in terms of the uniformity so while while you're in the nice world of getzen list operations in rest everyone can be pretty much
 just use your own read Jason request a r h t t p and then when it comes to more custom things everyone has a way that works but they tend to be slightly different at all of this is basically HTTP requests and when you're working from JavaScript thought maybe absolutely straightforward the most natural thing in the world and JavaScript used to make a request for the Jason Taylor and get back to Jason response and then use that coming from my welder see shop and to some extent Java that's less the case Jason is effectively untiedt's some type information in that but we used to being able to get things in a compile time Safeway so you end up having to have libraries which new the expected Jason response format and the request for Matt and can Matt between classes either you define as an application developer or the class Library developer has
 waited on you create a request you send it on the fact that happens to be serialized over Jason is kind of irrelevant to you so that that tends to be the way as far as I've seen it yet as I say I'm far from an expert in cloud services in German I have myself a nice little area but that's the way I typically seen cloud services being exposed it would be a fairly odd cloud service that didn't expose itself in some form of HP 1.1 and Jason approach would want to access a cloud service what could you contrast what the experience is like without a client Library versus what the experience is like with a client Library show suit
 are there safe for JavaScript libraries may do some nice things for you but they don't feel completely necessary just to say I'm not a JavaScript developer I've seen JavaScript run away screaming I'm sure people love it but
 it feels reasonably natural it's a dynamic language you can create stuff and get it fight to see shop if you want to go just roll native then you build an h-2b wiper crestal maybe use h-2b client or whatever and you would build the Jason which you could do with Jason. Natural some other jsonserializer and you have to make sure that the request looks absolutely right and then you'll get a response back and then you have to pay the response spot according to the documentation and according to your testing and you know maybe you have a typo and things go horribly wrong or worse things seem to work I do have an impression that you understand how this concept is waxed and then later on you get a response back but doesn't quite meet that and some of the things. So it's it's very roll hits of Miss it's a bit like well very much like grinding their pricing your own kind of sterilization saying well
 I would say my results will take space so I shall find the native database I stream format and see realize all my dates are into that very carefully and get responses that's not the way that we work drop to make basically right so the client Library factors out a lot of the typical work the canonical work that a developer would otherwise have to do in order to interface with some external service in this case cloud services so you know much of your work has been on the Google Cloud. Net offerings with your in c-sharp I guess let's talk about it like how is the development of a client Library take place and what it what are the phases of the development process for writing client Library so for my personal position I have two kinds of plant life that I'm writing it so Google used to it
 is it still does expose but it's sort of the relative the old way of doing things that expose Jason based API and we have cogeneration in place has been for years you know where it where still tweaking it weather problems and things were looking after it but it's it's basically that which does all the Jason serialization and deserialization so you don't need to worry about making typos in your code but it is still a fatty roll so that's the song was all cool for the sake of this and restful API and then we have the new Hot Mess which is cool grpc which is an LPC Cole that isn't strictly toy to protocol-buffers or HDPE 2 bus in the typical implementation I know limitations a fuse it is basically an LPC mechanism they speak to and where
 messages you cost back and forth operator school buses
 so in each case I take what is coaching recent that died in the case of a GL pc-based API there are actually two layers of Cochin to be caught one is the hear the roar PCS and then we add a layer over the top to make it feel more results results oriented now I can feel a bit of confusion coming in already cuz this is the results oriented at the jail PC versus the restful API which is the old stuff isn't this the same thing well we do expose all the new hotness rest and Jason as well I'm we know that despite the fact that these services are I'm delaying our PCA P ice we're designing them to feel results-oriented so that you can still get the same benefits of rest it just happens not to be Jason and HTTP 1.1 which near there's nothing in rest that says that's what you have to be using
 so this is just another way of exposing things and we get to look at Polaris. Solve what's worked well and what hasn't well in previous cogeneration and try to apply person say that we know when your listing results is a very clean person in console C's is you want to list all the I'll give an example from pops up the Google Pub sub EP alright you have subscribers and you have topics and the subscribers subscribers topics so you might want to list all the topics for the project now that maybe ten thousand project project and you don't want to come back in one or PC so we have a person a paging passing where we say I can't wait request you can say a page to can also have way you left off and then when you get a response back
 people say well his over your one page with the results and he's the next page taken to provide
 to the next cool
 I'm not toolbox fine but it's manual repetitive work to make all those list Kohl's to get the first 25 then the next 25 and the next 35 or however many you get per page typically that's another request from inside so we have cogent that understands that pets and there's some cement to come to sending over the rpc's to say well I'm just trying to list topics and this is why I as a c shop person come in designing the skocjan Sable the normal way of doing that would be to expose and I numerable or maybe iqueryable so that you can just say sorry to them and we can do background all PCS as they say in the background I didn't we didn't expose just buy a new Rubble of tea because you may want to stop part way through and then pick up later so you couldn't have some way of accessing the page token well not being too it does this tension between being very aware of the underlying all PCS and not wanting
 so you don't want them in your face but you want them to be available when you need them so post my job is for the coaching side of things making that you Samantha kleier of Cochin over the ruler PCS making that as smooth as possible but even then sometimes that isn't quite enough and this is where the Henderson code comes in on this happens over both the jail PCH and the rest. That's cool so I've got Google cloud storage and Google bigquery clothes are on top of the old restful API eyes and so I'm looking at those and thinking well how can I make the much easier to use much chill much more idiomatic make calls that might have required setting up a three or four different objects just to do something that should be a one-liner how can I make
 it's a very thin rapper thin layer of the top but it gets the job done so that you can get the common operations on the service excusing much more simply absolutely you mentioned this term a number of times to call the code generation so that could mean a number of things what is code generation mean in this context so we take the service definition in some form of that suit in the restful API as we have what's called a discovery document which you can download from the discovery service so we have a cloud service which tells you about all the other child services
 and that gives you the Jason describes the service and then we turn that into a bunch of C Shopkins is basically it's as simple as that and they have a dependency on some support libraries which know how to make the pools and do authentic ation so the the generated code is primarily about well what are the operations that I can do will see the results is which of the collections of results
 Nazi at the restful API eyes full the jlp seat base API is there a T3 whole laser coaching and gets ready quite complicated another case of your you won't develop is to be aware of this in the background without it being so in that case that they're always having to wonder what Lana talking about so for GL pc-based api's I mentioned before that based on practical life is so pretty cool buffers is what it's it's being Google for longer than I have in their ideas and we were on printer to now we're on / 2/3 I just being open source for quite a lot of that time I just basically just serialization you did find some messages and then we also generate classes in Java Ruby python go C plus plus CE shop at Heather's and
 oldies cause he's know how to do is
 silver lace themselves two bites and Paws from bites into objects it's straightforward serialization but unlike some other serialization phones where they try to sterilize your existing classes we say no we will generate them they know how to sterilize themselves which is both limiting and at least she was surprises that site now in c-sharp we generate the most special classes at so you can actually members if you've got say you got a person class a test message and it has a first name property in the last name property you can create your own name property that can use the two together or whatever whatever you want with extension methods means that even if you're accepting fresh kielbasa messages that someone else is defined in a different assembly you can still add helping things yourself say there's a degree of flexibility
 but fundamentally we're taking some. Pray to message definition files and turn them in Skype so that's the next layer is glp then I'll go for it I would beat your PC so the jail PC Services I said the principles messages were literally just messages he is a request message it contains the idea of some project or whatever and his you'll topic results that contains its name and various things
 so the GOP seal at take Seven Seas what you'll say to find within. Printer files which is almost almost to Historic Lexington you can only think of them as separate but that Services the tall defined in aperture we kind of way and full Proto's and again we generate C sharp code in the case of C shop I might projects we happened to check these code at these classes in to get up so I like the idea that someone can check out the case I'll breathe and just build it straight away without having to also install the pur to see The Purge buffkin play Love It generates old things
 so if you want to have a look at the the outputs of either the purge mask Impala all the GOP see generator which is a plug into the projector pilot you can just have a look at my guitar project which I'm sure you're worth it to him there yet on the web page and just have a look at the generator code so messages and wake up to your PC that would let you if you did just that that would let you make office equals and do everything you need to do your that there is nothing that we do it over the top that you can do yourself inferior goes everything can be done today you can create your own TCP client and just sit in the bikes out and do exactly the right thing you definitely don't want to do that we've spent a lot of time making this perform well and they making a bagel The Purge buff idioms and
 political conventions so you want to use those but you could just use gel PC generated code all fence gate to get some credentials I mean you'll find but it would feel like an LPC it would feel like I'm making requests and getting responses back but that's the show fuse to laser coach of the service Creator like if I'm the person you are I'm one of the engineers working on Google Cloud Pub sub the service itself as opposed to the client libraries what you work on do I just have to create a spec for what types of protobuf requested what type of grpc requests that I am going to respond to and then it becomes the responsibility of the writers of the client libraries to conform to that protobuf for GRCC specs so you define yourself aside we've been here before
 to sleep and whistle it ready I said it's just so you to find your service and when we make a call to Pops up I don't know what pops up is implemented in it could be implemented in C plus plus it could be it could be implemented in yeah I don't need to cat because the protocol is this service definition
 and so the only produces don't need to know what the client libraries would look like but a good API producer will actually talk to the client teams and that can often be things where
 although an LPC let you do everything you want to it doesn't necessarily Express itself in the very simplest way of doing things so that's an example I'm currently working on the cloud Vision API and one of the nice things about open source things is I'm not revealing any company Secrets by saying I'm working on top Vision because well I haven't created the pool request yet but it may well be tomorrow but anyone and everyone can see what I'm working on and then there's nothing secret here and you can have a look at the conversation API and terminal PC perspective it consists of a single coil which is better China S8 images within that that's a bunch of requests and for each request to you supplying image and you could say I will detect faces I will do all kinds of things
 and so it's really fixable I didn't mean to it's just one or PC which the flexibility involved in having a small number of rbc's is great but it isn't a brilliant cleanse experience where is a date in literally what I was writing it a Pedro to a code to sort of live by the side of the cage and it's old mincing the coaching for the client to that we generating we end up generating
 tickles actually one synchronous Channel 6 images at 1 a synchronous translate images a sink and all I found it is some help him if it's the sort of rap 13 to Welches Point self and you just want to annotate a single image so let's make it easy to send one request in and unwrap the one response out of the repeats of response that we get back and hate I know you can detect landmarks and faces and if it was great this morning I did my very first test using this particular API my whole family recently I came to Australia with me where is speaking at 10 DC Sydney which is a fantastic time by the way I'm so I picked a random photo that I taken downloaded it running through the IPL inside police detect faces in one box and it said Yep they're all full face is here and show me where they are and that's the Sydney Opera House in the background
 what are the joys of doing what I do it's like it's play with all these API is that my enormously tenants and colleagues busy producing in the background and it when we talked about requirements I talked about which products you have to support which kind of service is what I didn't go into his availability and response time and privacy security all kinds of flexibility things and the the Voss requirements because you don't have to write absolute when it comes to get into this a little bit but yeah there are big requirements to doing anything properly it's Kyle I just got a few weeks and then suddenly they got a hundred thousand uses it like it's right
 wealthfront is an automated investing services that saves you time is an engineer your time is valuable if you want to invest but you don't want to spend significant time evaluating your portfolio and allocating assets take a look at wealthfront go to wealthfront.com se daily to open an account today and get a special offer for software engineering daily listeners $15,000 manage for free when you open your account with traditional Investment Services there are many humans in the loop that are doing things that well front Autumn eights away when you pay the commissions and account fees of these traditional Investment Services you're paying for work that could be done by a computer so don't pay commissions and account fees maximize your games with wealthfront set-it-and-forget-it investment automation check out wealthfront.com SE daily it would support software engineering daily and it would introduce you to the world of automated investing
 wealthfront.com SE daily thanks to wealthfront for being a continue to sponsor of the show now let's get on with the show
 what is just a little bit and you mentioned that your PC is somewhat analogous or similar to soap or the city of these past protocols menu could explain what is newer about grpc we did one show where we talked about grpc a while ago but why don't you explain I guess just give us a top of Us Playstation 4 what grpc is why it is useful in this domain and what's new about it so I guess it's fast reliable are PCS it's kind of boring to say it that way but it kind of is so it's been designed from the ground up to be quite similar to but a nice open source and Jam Release and HDPE to friendly version of our own internal RPC mechanisms by which
 too much about for a piece reasons as well as not knowing very much, but big things like you don't need to worry about making multiple requests whether you'll have need several connections or whatever pick his Connections in jail PC or just Multiplex they just all so do I need to make it back to request or can I make 5 requests on the truck is that going to require 5 connections or worst do I need to wait for the first request to finish before the second one goes the other will just Multiplex it'll do I need to worry about if the circuit becomes disconnected now just repair the channel it'll be fine do I need to worry about how it's late balance nah it'll be fine he just tries to take all the difficult part of making a good reliable Network friendly banquet friendly RPC mechanism take a list of opiates out but leave you find shooting
 so you can find you in this thing massively I've never gone into the depths of it but I can imagine if you're a mobile app developer in particular you kind of care about every pocket there goes over but potentially at least if you care about your uses you do if you really don't want to be wasting day sat so gel PC as I say uses pretty buff I think it's compressed by the full pipe I honestly can't say for sure but first coffee is already pretty efficient space efficient and CPU efficient serialization format
 so it gets a little that out of the way and having some ways the idea of doing it all PC is very old but 5.0 PCS were originally considered I don't mean any disrespect to the at the office of profound papers on these things but my guess is that they wasn't thinking about cloud computing and move all confusing the two big big drivers all you've got thousands tens of thousands of computers in sitting and data centers with insane in the Fox network connections to each other at the same time you've got very very fast phones sometimes on really good networks and they doing very latency sensitive gaming and you also got phones that maybe 10 years old and maybe we'll still be able to I honestly, tell you which
 which exact mobile platforms jail PCS available full but in theory you could use it from very old devices and certainly more likely is you just use it with relatively budget devices but on fetty poor networks and I wouldn't have expected anything come up with that someone to come up with 30 years ago to really have a lot in mind because Computing has changed so immensely I just really and write save the way it's it's changed in those two particular areas how to move all the way more generally about what are PC is there probably some listeners who are these terms HTTP to TCP RPC where where do these different things fit together I mean if I'm a web developer maybe I've never worked with RPC I have no idea how it fits into my stash
 I can do and when I would need it what is RPC and how does that how does that compare to the other types of connections and then data passing from from a client to a server that we would deal with MPC itself is is not one thing it's a just sent for my procedure Cole I Remember doing java-based relating all PCS back when I first then job for I remember do similar things with awful binary serialization Bridge goals that basically meant you could end electric cha what's a job without hardly complicates things it really is as simple as it sounds remote procedure call so think you're normal method cool or function cool that's normally on the same computer
 imagine if it would and that's remote procedure call the difficulty comes with thinking right so that means All My Method promises they've going to go over the network so what does that mean if I could an object in memory so nevermind I'm used to see shop in Java so I'm used to passing around references to existing objects in memory and I don't need to read transport much if I'm passing instructions eShop yes the bits just get copied but it's fine with things like refridged Integrity if I if I have two methods premises which played Professor the same object that's fine I can detect that Cincy shop that easily
 set the one reference will be passed twice and I'll be able to access that same update as soon as you start thinking now I'm serializing send a text to make the request so I'm serious in the method documents that the remote procedure cool arguments the request effectively well now I feel like got two objects that look the same as that some way of saying they're actually one object to make the kind of Distinction I likewise when I get a response you can't easily amused RPC mechanisms if you make it to all PCS on the new show me refer to the same subject well how are you going to represent that the fact that you're working across this boundary is what complicates everything
 spell intensive if you're used to doing weird things
 you may find the listeners rights in and complain if I say that you're making a leopard dresses like to it making it all PC but they're all there is certainly philosophical differences but fundamentally you're saying to the server here is some information give me some information back ultimately it's a request response protocol and it so happens that with HP we have a certain fixed selective kinds of information that you can pass so plenty and headers and then one of you wants pushing the buddy you know that's your business and you need to kind of agree with the seven whole hand out this is going to accept or some Jason awesome XML or maybe you specify that comes in and hope for the Kinect set any of those three things
 fundamentally if you get down to you spit some bite to the server and it spits doesn't work and then spit some bites back at you that's really any kind of networking application is going to do and all pcs one soda flavor woman philosophy behind it which is give me a request I will give a deal with it and give you a response back and the Wolf scat nuggets somewhat when you think okay I won't my request to say get me a particular subject but I don't mess up 5 minutes ago so if the 7 news that hasn't changed can I tell the service somehow I fix this 5 minutes ago just tell me whether or not it's changed the exchange give me the whole object back otherwise tell me that hasn't changed so that's where we get some to eat tags and your pool to cashing mechanisms that have grown up around the web
 got it
 show me let's talk through as some of the examples of the the cloud API that you've written I think you're at your explanation of Jeep Cherokee series was really good in and I think what makes sense about RPC in this context it remote procedure call your writing these client Library so the user guest experience you know I'm in the IDE and I'm writing yeah I'm accessing a method from the that's on Google cloud and I want it to feel like it's just seamless with the rest of my code even though it is just a call but actually going out to a server somewhere it is a remote procedure call to really make sense for grpc in this context you're talking about these different client API you talk to me about pops up earlier there's also a Google Cloud Storage you've worked on you worked on the cloud datastore serves as I can no sequel database you've worked on the log
 bigquery which one of these should we discuss which one of is is markedly different than then Pub sub and it would be worth a discussion around how you architect of the cloud client so I'm Southern logging are interesting in the 10 most interesting and don't get me wrong by interesting products but for the API some cells on thurs contain new Hendrix in case I might involvement sort of ended at Cochin impact for looking we do have not a referee for the talk that you would normally use from client code but we have a look for net implementation so that's a plug-in for other infrastructure and not something that I can see happening in some but no soul api's that they may be in a pie that you never use explicitly you just can figure something else use it
 so if you want to use cloud sequel for example I'm unlikely to write a single line of code to support Kyle sequel cuz it's just so I'm looking a little bit like that sometimes if they have it require anything more the pups up API you would use directly but it's okay as it's being generated by the slab of Tanks free code generator on we have to smoke that just above that you all PC there that understands what this semantics are and gassin you get this protobuf back or this grpc Speck from the creators of the pub sub service the cloud service and this this your PC spec reproduce sexually gives you what you need you know what you need to implement on the client side and so as I understand you design some way of generating code
 from that spec is that accurate that's right I'm full the Wilson two layers that's older is full of the layer above this so the most romantic layer we to allow a bit more manual tweaking so we have a full description that we've called kappock Google API coach and I think I should say isn't that is primarily not my work so much is that's unlikely Chris bacon and I want to start taking credit for the he's great work I've been sort of Designing some of the feel of what it should feel like to use it and then he said all the help I can. She generates in the coat so we have this extra configuration forgot to pick that is partly driven we have a configuration generator if you like yeah I can just imagine people going out how many generations are involved in any of them
 any open at we don't want to make out customers lights any harder than they need to be but we look at the price of you and we try to infer some information like we see a list topics RBC and we see that the request has something cold pipe size and Paige token on the response has something cold next page token and a list of responses a list of Topics in Forever that sounds like it it smells like a list of operation and so that ends up in the air right now in some cases if things haven't quite going to normal conventions or if they are all it's just another configuration that's in third is what we call premise of flattening so you've got a request object and in a generated code we almost never take just straight request subjects cuz they're a pain to build up they make sense in
 the LPC basically power on PC
 see me I'm typically have one request kitty warm response on great teacher grpc I didn't mention before we streaming of a request to responses or both and gets complicated powerful but let's stick to the simple situation where you have a request objects in you get back a response subject well that really sucks is an experience if you have to say and it gets all pic and then take to get to pick request that's no fun because all your client code needs to build a Quetzal pick request and they're always going to fit in the same promises and we just decided to fasten this out so we we remove the request apart and say well you can specify the Celtic name for the forget to pick it's the simplest get some for other things maybe you're updating the topic config or whatever so we take the fields from the request I make the method promises I need to do that in a slightly half away and some
 places so they can be multiple different premise of flattenings available for different use cases I'm not going to think again we try to infer from the printer configuration but then after that inference week and then tweaked things a bit sweet timeouts you different are PCS main naturally have different client site specify timeouts and so old that can be treats and then we run it through the pipeline and it spits out code in
 multi languages
 show it show it this disco generation process will work equally well for a Java client or a JavaScript client not sure about it pretty well simply cuz Jesse shop you're working with a false you. Language is up with obviously but seriously the aim of the coaching is that you end up with idiomatic code for the target language what we seen in some cases before is code generator is this all very consistent they produce the same basic flavor of code for old Target platforms which means that typically for all but one they feel like you're writing in AC Shop with a Java racks until C plus plus with a job Rex and told what whatever I can to happens to be way trying very hard to give you a consistent experience across a p ice so
 if you use the pups of API and The Duchess or Epi well for the Asus or I've given an extra surface able to talk but a lot of it should feel very very familiar if you use Java you will get a lot of the same concept but they will be exposed in an idiomatic way that is just right for the language in the platform the theory and I've only time will tell how well we're executing on that but that's definitely the plan and it's what we roll questions about got it like brushing is your mic or the mic moving around or something is that other chair movie unfortunately it's not cash it out yet but okay so you mentioned that logging and Pratt Pub sub are less interesting than the other
 she's even provided clients for what she talks about those other show so the other services of where I spend time writing handwritten code and there are two ways I do that say sometimes and I add a new layer over the top and sometimes I had went to the site which sounds a little odd but it's probably best to give you an example so
 an example of way we do things over the top is that assault say almost everyday store on PC takes a project name as its first, set us to do if you're close so instead even though our generated they just all client does that I've created a digital TV cost over the top where you can say this is the project with I don't see this is the main space so dates or is organized into namespaces and then I can expose simpler methods over the top of that and also extra concept so they just or has the concept of a transaction here that's begin transaction and then you can commit to a rollback
 and kind of naturally that ends up as a disposable results for the nassy Shotwell to know you you create a transaction you use it to the using block and if you don't not using book then it gets disposed in that means rollback fight so the idea of a transaction as an object that there's no real all PC version of something that's disposable that's just not the way I'll PCS work so we need to build bus into an abstraction layer over the top so they just all TV has begin transaction that gives you back hey I can't remember if she'll think they still transaction I think which Internet site as possible and that has a bunch of them implicitly use that transaction so if you look something up and it takes its toll transaction it will make the cool to the underlying plant ivory
 building text or planets coaching and say hey I'm transaction XYZ please do the look up in this context and also his the projects in his name space so we can end up with much more concise method promises promises that makes sense we can end up with methods with all of your promises
 and employee apply the implicit context all the way that I am within a transaction or I'm not within a transaction I'm just cooling look up the key on Nexus the TV Skinnytaste OTB so the fact that that knows it's nothing a transaction means it can apply a read mode of non-transactional whatever and not bother taking a transaction ID cuz if you were using transaction ID you be using digital transaction so that's over the top and you can always we decided to be if I say transparent about abstraction layer is so you can always pull down from when's the next seamlessly tracing the sleep you can easily get from a datastore TV to the day still climb underneath it but still the coach of the cement Cochin
 I mean if you really really want to get the finest control ever you can get the glp C client on the that still coaching so you'll still not spitting out individual bites but you can get the the 30 roll gel PC side of things which could be useful if you wanted to do diagnostics and get hold of some of the head isn't trailers in and detailed response from request I'm talking sticks the highest level of abstraction very occasion need one layer deeper and once in a blue moon and it really hurt that this was really rap go down to the jail PC client
 top attractions on the side which I suppose you don't want to it but they still TB or even when you're working with a store DB you still deal with the preschool before messages quite often so anytime that you posted entity or receiving and see but still I purchase puff message well within that Leia I can still make things easier for you the entities have their own protobuf messages for particular value kinds so I cannot see shop explicit and implicit conversions from that's safe from string to the principal value message that's possible and see how you can easily build up in NC in a way pretty much as a dictionary and it would be much more long-winded to do if you have to use just the generator code so this is what I say on the site it's augmenting the existing types within an earlier coaching
 Bravo adding a hole on the top I'm at flexibility because of all the code within the same project so I got the messages I see clients to Cochin and it says Alero the top that's on top of all of that with him on assembly it's older than my source code that uses partial products is all over the place so I can add things in wherever I need to just to really fine-tune the experience to make it as as really crisp as possible for a client's out a little bit because we're talking about development of client libraries on C sharp we have not done a ton of shows about C sharp most of the shows are about people developing on Unix or Linux based systems obviously you're safe now don't forget to that is not you can use my Note 2 versus Sharp. Net
 now it's all done at cool so you can use absolutely first class air mother I have Hue generation for the other guys but you can use the exact same trait that you would use a windows are you can use on the next iMac as well so Microsoft has massively going into open source suit the C Shopkins playlist Julie Lacy sharp.net open source movement of course how can I forget a message and I find it it's message me as well so he doesn't mean that our stuff will welcome. Net core it means that I'll be able to write asp.net core apps that run on Linux and then come be hosted potentially on Google Cloud platform as well so I'll be able to run everything I want in. Net on Google and that makes me very very happy what is preferable to C sharp to Java
 Java and minor changes you have a lot of experience in Java and C sharp out of the two languages contrast so this is difficult because it's 29 now and I need to start working again in about 10 out of time I'm not I'm not sure that gives me quite enough time to express my preference pussy shop of java
 I can do it simply I see shop is Java done right but there are so many things for one thing she shop has been evolving much much faster than job so I'm really glad that job rate has been out for a while now job and mine is on the horizon but since about I'd say since about 2000 full 2005 C sharp is kind of happy up ahead and say it started much later so you told me at one point one was 2002 I think maybe just a bit before that from 2000 Opus I think
 so they didn't have the baggage they were able to learn a lot from java and they just Embrace Elegance all over the place with a healthy dose of pragmatism as well so I know the C shop design team fetty well I'm driving the convenience full the Equus type of isolation can I see full C shop
 and I'm just in constant or of those guys they managed to come up with brilliant brilliant ideas like a sink and she shot play yeah that was the main feature of C sharp 5 and I remember at a conference in a long time ago I did it for coffee if I ruled the world C shop 5 according to John and it had some pretty good ideas that are actually now some of them in C sharp 7 I'm not in any way saying that they took him for me is quite but I'm so glad they didn't take my ideas then because I sync is so so much better I know we see so much the rest of all going in the same direction the sea shop scene itself is wise enough to borrow from Abuelita's so I love the ideas modern versions RC shop have come for my shop
 hoping they haven't been just copied directly instead they've taken the guts of it take him what's important in those ideas and really find you in the end to make them feel right to see shop this
 terrapene some really big things in c-sharp so link queries for example which at first glance I thought doesn't die from a person with X. Name is starts with John xoa Jordan doesn't look like C sharp so but it's incredibly pregnancy and then when you look at what I can do and how it's implemented so we're expressions are implemented by this transform into what I cool regular sea salt and sea salt without Expressions beautiful it takes up one section of the specification and when you can come up with such a powerful feature
 it's still so isolated from the rest of the language it's just amazing so I'm sitting outside in the tea shop is a perfect language but by the time you called and Eric's number expressions with both delegates and expression trees link I'm even the dynamic typing I'm not a big deal to say the least I'm on the on the veg when it comes to on the fence around when it comes to shop and dynamic language for having Dynamic maybe maybe not but if it's going to happen. It was really really well done that was a lot of focus into Isaac now everywhere it just feels right all the time. Of time Java was the de facto back-end language for places like Google like Facebook's big companies and I feel like a lot of that was due to the fact that it could run on Linux where perhaps
 C sharp couldn't and today is catching up so do you think we're going to see a bigger shift towards C sharp as the United States as a predominant server-side language I would like to think so yes I'm partly because now it doesn't matter so much so in a will to make your services when everyone is exposing weather is restful API or jlp seat and I've talked about writing A B C client of course you can send up a server residency shop at Expose that as your ass up and get Java plants and JavaScript find someone because we got your PC is the first call in between isolating you from those language differences in c-sharp today maybe Prince type it into shop and if I find that it's some insanely resource intensive service that needs to be Rewritten in God will see us then someone could do that and Clyde
 if it's well-executed plants need never know the difference is wonderful so I really ready that see shop
 take side it's it's not like it's I don't dog hair in that 70 in Enterprises physically Windows shops Upstate see shops always been very popular I speed up Nexus massive but I think that there's a chance that we're on the cusp of something really really big when you put together Microsoft as he's probably talk her or containers in general and container orchestration with products like Uber taxis put those together with the language of your choice if if what you're doing is you're exposing a port in a container and as far as anything else is concerned it's just a black box then I can put Javascript with no chance I could put you off of that I can put C4 bus that I can put CD shop that we've got three flexibility so hopefully
 developers will use whichever language is going to be the most productive full them for the toss that trying to achieve sometimes that will mean okay I'm at PHP developer and I want to get a perch site done and maybe go would be the best language for it but I don't have time to let go right now so I'm going to send something up at First Sight done get funding and then maybe I'll learn go
 Ok Google has the idea of the long time ago at least there was a blessed languages where you at he could use Java or I think there's no or unrestricted languages super splice okay has that changed but still sounds right to me I think that there have always because Google's a big or alphabet is a big company with lots of companies and I think I was involved in things
 they have always been occasional exceptions way and if we pulled the company that's running some Z shop and we need to keep that running their ways of doing things but I'm trying to avoid saying anything that could be seen as even slightly confidential but I would say that the predominant languages I see full service development cplusplus current job and I personally not expect that to change anytime just because I'm always astonished at how far Google goes in making its develop his productive so we have big order a lot of teams are responsible for developing and making our developers as productive as possible and that's great as a Corolla read because we get to learn some of that so that we can hopefully help to make other people as productive as possible
 but it does mean that if you've made a massive infrastructure investment in a lot of java tooling to do a large Coke base refactoring for example it's that would be an awfully big ass to say I fancy writing and see shop today cuz look it's open so it runs on Linux that's cool we should be able to say that doesn't necessarily make sense and it also means if you have a few blessed languages then chances are you going to be able to find a code review you're going to be able to find a team which news the language well Federal advantages in having a small set of languages as well as of course frustration today I feel so blessed myself now to be able to write in C sharp as my day job and better yet to do with an open-source before that I have been writing and Java old so I'm thinking I'd love to be writing and see shop but there's no way I'm going to move
 Google which is such fabulous company to work for I would rather write in Java in Google the rice and see shop anywhere else I know how it goes I get to have my cake and eat in the software engineering daily I have really enjoyed talking to you about how your architecting Cloud clients at Google my pleasure thank you very much
 thanks to civano for sponsoring software engineering daily symphonica is a custom engineering shop where senior Engineers tackled big Tech challenges while learning from each other check it out its symphony.com SE daily that's s y m p h o n o, s e daily thanks again Stefano
