Transcription: Flavio June Kira is a committed to Apache zookeeper Fabio welcome to software engineering daily
 hey thanks and thanks for having me as a sub-project of Hadoop but was eventually spun out what problems does apache-zookeeper solve for her do
 I'm sofa for Hadoop today it solves the problem of free mulch Master election for for the name nodes in a in hdfs
 did it did it solve more problems in the past
 in one sense for her to do. So did people used to use it for for a wide array of problems or or has it always just been mainly about Val leader election so it's about a number of things and I think my selection is pretty typical used car lots of a product's end up using a Muscle X and other things as well how would you define Master election also you have a number of processing your application and he wants one of them to rise as as as a leader and perform some master desks on behalf of a of the dresser
 and why is leader election so important to a distributed system and some sort of had nodes station sound on behalf of the class
 does the leader form of bottleneck is all the clients have to serialize their processes through the leader but you don't have to have a single leader in the class if you have a gas compressor on each of each of the partitions will have its own leader right so you don't have one single leader for the the Hocus so you can have different entities little cupcake I have to stop and partitions and and we can have a little for each one of those who have chat
 do the leaders through do the multiple leaders do they form a hierarchy or are they just all leaders that are on the similar tear of responsibility example of car, so each leaders the leader for a partition and its independence of of the other partitions guarantees zookeeper once I get an acknowledgement of of a right and start with rights say you crazy know once I get a response for that you know when okay for that up it means that the right is durable
 Russell even if service crash and come back up on you to see if you're right there and it also guarantees that are alright so if you're right turn signal relay on your right against the same thing out so everyone's going to observe the same sequence of updates do I had to Dad so you know
 it also guarantees that everyone who reads the state of Zookeeper the same sequence of a of above dates because their page they propagated synchronously to the servers but they were observed the same sequence
 I said for somebody first before somebody who doesn't have much background in distributed systems so the guarantees that you just stated why are those correlated or why are those enabled by the idea of leader election
 they're not enabled by by Jeff little extra so it turns out that I seen you view into their beds choo choo choo zookeeper it doesn't tell you anything about about my selection it's almost election ended up being so popular because we have a selection right but again because there are so many systems that are designed with this idea of having a head know the manager and then manager needs to be some sort of reliable repository for metadata
 right okay so could you talk more about zookeeper's API
 explain maybe the core what are the core of the most important functionality pieces of zookeepers API so you can occasional to leave in a hierarchy of cenotes so you can have a c-note than industrial can have children and their children can have children so on
 what API you can even creates notes you can believe to know exact can change the the the data of Zeno's Condition it's a very powerful future future you read the state of a of a Zeno's as I can get it the day you can get the list of children of a c-note you can check it for Xenon exist so those are the basic core 6 calls that are bad to keep her office but you join you can play the dizi nodes
 and how do people use that API to develop leader election
 what you're asking for it for explicit recipe how how you would do that so I'm I'm just curious how did that accidental implementation manifest log sick and in pain and barriers against election selection turned out to be one pretty popular again because many systems are designed like that with the master with the manager know how you do it how you do Master election that's the simplest way is to create as you know so you crazy know if you are able to create and then you are your deleted you are the master any works because if someone else wants created remember that the that the rights are.
 if someone tries to create it because it's going to fail in so you know that someone already holds the hose leadership
 right and another feature that is dance important I think I didn't want to talk about the car baby I said busy notes can be ephemeral and or sequential so if the election is important because if you say you go there trying to create the the damaso Rocksino and you can't because you're reading says it's okay go there is already a master I want to be informed if that goes away so when decline creates the Masters in it makes it a femoral which means Sarah anyone who is interested in learning when that Zeno goes away because the Dakine has gone has been a way I can subscribe to that she notifications
 and when zookeeper knows what ZIP codes are watching each other how is that implemented like how did how does a zookeeper how does a zookeeper node become aware that some something else somebody has something has occurred on another note in the data center interested in the status of a bad ignition initial clients it's it's reads the State of Grace and Rosie note and sets a watch on it
 okay and so let's call the clients a.m. be okay so a concentration at 10 Rosie note to the session of finds a client I crashes in session are going to expire zookeeper's going to get back that is going to be
 now it's going to be is interested in what's going on with a account you can set a watch on that offend razzino any the case the session of kybella expires DMV notified of because the xenos going to be deleted automatically by zookeeper right so users can also manage configuration using zookeeper
 is Zookeeper used more for configuration of fail overs and leader election or is it you were also used for application Level configuration like user data so if I use a day that you mean like the dead and uses of your online service like a few yeah so I would say it's not a great idea to do that because that's more like a boat so that's more suitable for dinosaurs that are dead that deal with o beta is very good with
 I bet you will see if after examples of metadata I can give you a few so it in the car fix an appointment soon before you have an Amana being about partitions zookeeper's used to manage to the concert. And starting a workers the solar solar use on Soundcloud uses that to manage a short metadata bookkeeper also in the category of a application like top gun stores in San Bernardino zookeeper are there Social Services Company registration like companies for something to eat in Pinterest have that describe the blog post things like that are examples of metadata dad's production
 there should be some examples like how does zookeeper actually store the data because I know that it's different than you know how that how the data will be stored in a key-value store or how a database stores data so so when you say that stores data what is the underlying process their Suzuki State main memory data Tree Inn in memory but he also writes a disk erase it erase a transaction log so every time every time you submit an update and that update is processed the service hate you log into the transaction log and and periodically servers degenerative snapshots of the data tree and an ulcer write to disk
 and why is it so it's been a little bit more why zookeeper is useful for a system that has many reads but fewer rights
 Wright's because we can it sit servicing zookeeper to increase to scale read through.
 But it's not as easy to scale ride through. So just just came through but you just have to add more servers in the form of a new follower is or new observers powers are the ones actually votes in the replication particles are busy just learn the result of the replication
 it's okay if you add more services can you please you at your door at Reed's you put capacity but that's on the same with the rights if you had more servers or more voters you actually in reducing the right there put the bouncy ride because every time you're right you have to write it right to all servers in each weighed for for a quorum to be able to make progress so that makes it
 something on my zookeeper cluster how does the update propagate to the other zookeeper nodes
 okay so did the past the past as small as I did so you have a client to the server by the connective tissue forms the request into another important transaction Penny proposes to down sample
 Boyd's for acknowledgement from a from a quorum so that acknowledge me and said she did that was the leader that it has been written to a disc of a of a of a corm and the amazing it receives and sends the commitment such charges against the original sample and whoever got a cheerleader. Your big strong man from the request from the clients once received his commits inform the client that operation has succeeded
 does that make sense yes yes do people use zookeeper as a message queue
 not really
 okay what about a notification system as a medication system
 okay is is that of an appropriate implementation is that it's not the the best the best use of Zookeeper but inside is a good use of Zookeeper I wouldn't say is the bed once a message cute the problem with any of them
 you won't be running just a lot of rides in Chula into zookeepers it's not going to be right so you're at your through your phone's not going to be great if you do that on top of Zookeeper explicitly but that's part of the reason why people have designed and implemented systems that do that on top of Zookeeper
 right I want to go but more about zookeeper and the present day
 how does the how does the implementation of Zookeeper compared to like if you could if you can reboot zookeeper today and start completely from scratch is there anything you do dramatically different
 okay dramatically different that is one thing I wish we have could have done differently this more evident that we should have done it at the time we started thinking about it but we didn't make a lot of progress which is Zookeeper more designed as a teacher be like sister and use as a service
 nice I think I think the mood to Tennessee features of a that we have for zookeeper today are are not sufficient you ever used as as a service and other things that we could have done differently to make it better in that direction
 what do you mean by that the multi-tenancy problems say that you eat when you have multiple products that rely on zookeeper
 and you want to share one Ensemble across two or three products the promise I was not going to affect the other
 spider sometimes writes The Zookeeper they are they are what's 4 + 10 + now going with your own work clothes
 where is the security issue as well so you want to make sure that the data have a Cialis but I think we could take the case of a real multi-tenant environment you need to have stronger security features
 I just had prayed that just after the date of the I'll be different and interesting so so are you saying that were built Biltmore as a serviceable or a platform I can be made as a service security would be would be one one potential service application
 I was referring more to securing the data that the different customers are the different payments art store in Zookeeper running thing beside is is this if you have different time zones
 the most likely they don't need their request to be ordered together by so right now you can order everything that goes through it so it's a single-engine
 play everything is all good together so we have to go to the same morning angel of course I can try to deploy multiple instances of Zookeeper on the same servers and you know use different ports in and all that kind of stuff but the problem is you start having a job you just separate this traffic as well because I know we rely on on on a dedicated transaction log device for a for high-performance so well we both would you do you like eating used musical disk drive San Juan winning the pennant sign one for each of the money tree concerto teacher during practice so we could have done something along the lines that are we did for bookkeeper by so aggravating the logs out of different
 Science and Industry that on the same disc that's not there that's not what happens today zookeeper differ at all in in real time or streaming applications versus like a batch applications
 I think I think you generally it's beyond streaming it's it's beyond that even it's more about adding instances of something and in needing and then in having the need to store the metadata for each of those instances in in in somewhere in the inner reliable fashion so again if you have a gastric ulcer or some clustered you need to know what the workers that are there are there any of the difference different workouts you're running perhaps different different customers even and separated in a reliable Repository
 okay see you mentioned that the Kafka several times has the usage of ever has the Synergy between Kafka and zookeeper has that changed over time or or has has that stayed pretty static how cough could use a zookeeper
 I think it has evolved he has evolved in a number of ways I think it's that I think the core of thinking about how to use a zookeeper automatic data for topic Center in addition to the one that's pretty much the same as I understand it
 yeah but there are things that I did that end up changing because I realize that there's a better way perhaps to use to keep her to every zookeeper to do a particular task but I'm curious you say you're new to the to the Kafka community so what is that in terms of just a community and how are you how you contribute to a to a open source project within the community what are some some tips for how you get acquainted with you for a long time and and now you know if you're if you're getting involved you're interacting with the cost of community what is that process like do you have any suggestions on on how to be a good communicator from as a representative of one project communicating with representatives of another project
 yes that's that's an interesting question experience very interesting apache-kafka and zookeeper zookeeper for managing the community channels is spelled different
 so one thing that I believe is a newborn is that if you're interested in the community just going to track with the community I know that sometimes it's hard because people not super responsive but that's not because it's just because you know that all of us have jobs as well and we have to do stuff a lots of complaints on Twitter for example you don't know why it was supposed to be like a year going on if you put some effort into it right so I strongly discourage is that people go out there and complain about projects even though we talked about projects we really building communities here if there's something you don't like to try to come to get back and make it better I mean it's part of making your open sores
 absolutely what is the what are the differences between open source community and the community within a company like the ethos of a company versus the ethos of an open source project yeah that's a new one
 because you mentioned that that there's this there's no every open source project has its own ethos has its own personality and I think that's also true you know from company to company oh if you if you work at Google Notes the different attitude a different ethos within the company than Facebook for example but my question is more about what is the general what are the general differences between ethos within a company vs. ethos within an open source project
 I think
 open source Community one big difference says we are not the same organization each person or each group involved in the in the community who have different preferences different priorities and managing dad is probably one of the biggest challenges of an open source community
 in companies that are typically goes down each of the mattress one and everyone needs to be on board and so and so
 clear guidelines of what he should be doing equal requirements of everyone
 just another another cold project so how is Zookeeper used in an architecture with Apache mesos
 okay so I haven't tried that much with the community I know I know about misses but from reading about it
 is I understand it he uses zookeeper position for leader election and advertising the master Chua members of a bus
 okay so is so it's tit there's nothing there's nothing like totally to the groundbreaking or or or unexpected in the intersection of Zookeeper and mazo's that you know of okay what about what about the interaction of Zookeeper and Docker I've been inside for persecuted because they rely on zookeeper which has a manager and I've talked about some rats back end or muscle relaxant and log replication but that doesn't sound like it's going to be is going to be using zookeeper
 okay do you know if there's any inherent difference between managing a coordination among Docker I mean would you manage coordination among Docker images versus managing coordination between actual machines or maybe that's that's that's not have any expertise our understanding of Coordinated Science so you have it again in Yazoo City have the machines I need you to buy containers and you could use a component that is a basal zookeeper work Samsung zookeeper like to do it right
 interesting okay for a while and I'm curious about the rate of innovation in the present day and how that has changed relative to the past is the amount of innovation and new products in the Apache space is it growing to the point where it's like too big to follow everything that's going on in the community
 yeah that that's a good question
 probably depends on which Community to talk about sex with you so I am not exposed to everything that I had a bunch of projects are doing actually outside that I have died narrow view of what's going on in Apache
 inside communities themselves
 I think I think they tried as much as possible to be to provide visit baby because everything that's going on it so it's not too hard to have an idea about the topics that are being covered that are going on even if you don't know the exact cold or yeah
 what are the what are the areas in the open source community at least in the domain that you focus on that are really exciting to you right now
 yeah so disgusted because of being so bad right now I find this very exciting we have been talking about it for a long time but but I don't think there is busy is a great solution for for corporations to just deal with Woodson processing and not in the right way and so I could the conference is is going to be about something that's pretty cool when I'm happy to be here to be participating in that I also think that
 doctor has has has been great to sort of creates his oldest son hiking trails around containers about doing it and so I'm going to space and I think that could that could change the landscape of how we we deploy applications
 right on the cloud and all that
 in an interview with with a Consul employee interesting so what what has been what is exciting to you about confluent Kafka
 what's exciting to me about about conferring Costco days is Ethan and I went was when it was working for Microsoft we we had these cases off of gasket on a charming and and I think I do see great potential in using that quarterback ask a core to build a great stream data platform and that's exactly what we're trying to do if you're not in
 incompetent
 and there's been an explosion of managed Big Data companies that offer a paid service version of these various Apache projects like for Hadoop Cloudera and hortonworks for Cost Cutters confluent for spark there's databricks what are the teams I've encountered in the interviews this week is that the modern Data Center is really complex by the fact that you have always managed providers and you if you're a guy you have to work with support people from each provider
 so I'm curious what you think about this will the interactions I mean how are the interactions of the present and how will they change in the future between managed Big Data companies like Cloudera and confluent and the companies that purchased these products
 yeah that's that's a good question so
 I think I think about it so I called eryn Horton work so far as as I understand it they have tried to cover as much of the space as possible they even though they did bring themselves to people in a celebration for to keep her warm and it's it's a very concerned I'm not sure I have a great day
 yeah and you know what's interesting is like the so-called air or hortonworks trying to cover the entire ground I wonder sometimes if they're spreading themselves because it's not it's it seems like I'm kind of going for this tight coupling strategy in its kind of exploding in in like a Cambrian explosion of of just different products to have as a product strategy to have to try to cover all the bases of the quote like big data big dater platform
 yeah I see slightly differently so if he feels right to offend as you say it can become a problem because you promised any Ghana support system but you just don't have enough to actually do it so if it starts specializing then you can and then there's a problem that urination before we have too many players are not in the game I guess they change that would be to find a way of upgrading this Partnerships without actually overwhelming
 yeah it's it's interesting tension so you started a company recently called rescale limited what what are your plans for the company I don't I don't have a big vision for the company it's it's essentially a company I had started to to be able to work with others and any particular I've been working with. That's my man commitment right now after this song
 interesting is it are you focused on on zookeeper or is it just distribute applications in General on WhatsApp Wisconsin
 interesting how does Building Company compared to just working on open source
 in what sense when you're building a company you're building something you're building a product in the end and you want to sell it so I mean like you're you're you're selling your service is so it is so it's sort of different than working on open source where your you know you're just building something with is the the creative process of building a company versus the creative process of contributing to an open source project
 yeah so
 if you look like a beauty train open source project research organization
 any Star requirements with reception open source project other than just helping and black with zookeeper but we were supporting internal internal properties that had their own requirements and goals if you would most likely you have your Finance we are probably coming from your customers and this is not very different from from from starting your own company no special needs her needs
 why did Nate company ever form around zookeeper when we see it this this explosion of companies that have productized open source projects what is Zookeeper ever evolve into a company when does the project never got together in a way that we could do it
 I think it's just that I think it's just how things played out it's not it's not that it's at least it's not that is not worth it is not bad it's just how things played out for each one of the individual players
 so what what do you think are the things that people would pay for around the the zookeeper's basic what do you wish was in the marketplace that customers could come and pay for and say Hey I want I want zookeeper plus this
 survey companies that have work for that has always been a specific questions or or asks around zookeeper ended up going to intrude open source project like when when I was in Microsoft it was his way shelter of all frayed zookeepers of service and we don't have to actually make it make it happen
 and I think a lot of companies that they use to keep her band up getting frustrated because they they they want they think they can use it but sometimes I think one of the best ways of doing yet you're going to provide some support but it's not there
 so I was just going around zookeeper with the sanctuary zookeeper to do their own kind of business are 16 that are necessary
 so I think there's a there's an interesting interplay between Academia and business in the world of of distributed systems are there any
 projects in Academia that you find exciting right now. I don't know how close you keep you True-Track Academia but is there anything it's kind of on the bleeding edge notice that is exciting to you
 there's one project that I have participated I don't think I don't think it's it's in the stage that referring to I don't think it's ready fight is this project that we have done trying to harden disability system so they crash South Orange train crashes if you have things if I have for example data corruption you say your hundred caress your data those those beautiful flowers that existed osis won't protect you against it and so and it's it's it's a bit of a page
 to send some errands and make them a robust out automatically no hard on them and I need at Sephora at again making disability system automatically robust chewy chewy
 fascinating is there a is there a page or any information that I can include in the show notes say l i b s e i o n word then you should be able to find it
 fascinating Okay cool so talking a little bit more about about zookeeper the the the algorithm zookeeper is is backed by paxos that's correct right
 opening similar to paxos algorithmic breakthroughs in liter election or are are the are the packsource family of algorithms are there still pretty much the gold standard
 price I like to think of taxes and I don't think I'm alone in that I need that kind of you as more like a prodigal in a sentence that are the foundation for a in for beauty and replicated site machine so they decided to take the paper that's not enough to addicted to abuse system you have children to think about no more than all the messages and all the things that have two to go around it to make sure that she actually work
 one of the things that up data boxes out of the box that we had to take Abby Morgan of the about is the fact that I'm we wanted to to propagate idempotent transactions as opposed to commands I know we didn't want that represent beginning command so you wanted them Choke by state
 and so and so that everyone is a few changes in the prodigal because now the commands that agreed upon commands are there no more Saturdays at the Tennessee because I know what size generator State updates and then the next 8 updates going to depend on the previous and and and and so on so there are some specific requirements from the power cord that you need when you're done disguised as opposed to commands and we should do that
 what is the future of the data center and what is the future of distributed systems are at the Forefront of working on these projects where do you think the macro environment of the Datacenter and the distributed system is going
 rides I'm okay so sad that there are two things that come to mind is software-defined anything and try to make everything in storage now working software Define
 and the other one is is busy which is essentially The Continuous movement data centers does Dennis also occurred to me that I think it's it's it's going to be born which is the fact that we I think soon will have things like no Noble of Heron Bay, play Sonata in servers and that's if you start using dad's with a person by DNA you can start having systems that are operated super high-speed we have today
 fascinating and so you mentioned Docker Define Datacenter density
 if you if it isn't just just VMS I think I think the density of yams / server today I'm it isn't very high
 and I think one of the goals with comparisons to actually make a difference is 2200 maybe like dance or preserver Maurice's service hosting a counter server of containers in style
 and so as the Breakthrough of Docker was was not necessarily the the containerization technology itself but rather the usability layer that's on top of the containers is that correct I would say that has popularized the making it easier to use
 do you find it interesting that I sent you this usability layer on top of this thing that's even using containers for a really long time it's great the doctor is needed these useful but used because they're not I guess they don't have like a good usability layer on top of it
 yeah and human factor is all in the science projects that just don't fly because you don't have that special person who goes around
 so I think I think there's just a lot of great technology out there but if you don't have some money in the same that is very good at pitching it and then convince the others.
 yeah I guess it's all about the API zookeeper has has become so popular maybe part of that is is because the AP is so good it's and it's you could have a much worse much more complex burdensome API but it's it's much more user-friendly in a technology being being good then of course there's no
 the way I agree with you you're supposed to keep her that day Pio zookeeper has been has been clearly wanted to change that made it successful
 that's great okay so it took clothes off I wanted it as a c a motif of a software engineering daily is to get an idea for how people can become better at working on projects on their own and be focused on me because I don't think I think so aren't as autonomous aren't as self-driven as maybe they should be and you know you're perfect example to me that's worked on on several projects you fled several projects and what are some like psychological ways that that you can become the developer can become better at improving their ability to to work on on difficult project on their own
 yeah voice I don't think I have arrested for that I've had is a fact that it was I being in that in which type of organizational form for many years and that kind of risk-taking attitude is is pretty much mandatory
 and so and so you know we had to come up with with new ideas and and because I was working this your Labs day you know side they were off and being motivated by Rio problems that we are getting from relatives
 and and yes I did know that's how we ended up doing the time that the movement was so was going to be any part of that environment
 last question is distributed systems more of a philosophy or a science
 oh I don't know I think some disagreement systems is that a stage that's
 I guess a reason such to be done but we have a lot of systems out there that work
 price of so you see disability systems everywhere I rate so what is you using your Facebook or Twitter or Nathan or whatever social network you like but whatever mind sounds like that's being served by by I want a more disability systems so we do see the sayings working practice you go to conferences and you don't see you don't see his name of those in your in your daily life I don't know so so they're still even though you do see some things around dad's in in products it's mostly a schooner Inn in the recent space so there's probably a lot to be learn still
 okay fascinating thank you so much for coming on to stop wearing daily it's always fun to talk to you thank you so much
